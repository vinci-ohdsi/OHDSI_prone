<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Create interactive polygons</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for geom_polygon_interactive {ggiraph}"><tr><td>geom_polygon_interactive {ggiraph}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Create interactive polygons</h2>

<h3>Description</h3>

<p>The geometry is based on <code><a href="../../ggplot2/html/geom_polygon.html">geom_polygon()</a></code>.
See the documentation for those functions for more details.
</p>


<h3>Usage</h3>

<pre>
geom_polygon_interactive(...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>...</code></td>
<td>
<p>arguments passed to base function,
plus any of the <code><a href="ipar.html">interactive_parameters()</a></code>.</p>
</td></tr>
</table>


<h3>Details for geom_*_interactive functions</h3>

<p>The interactive parameters can be supplied with two ways:
</p>

<ul>
<li><p> As aesthetics with the mapping argument (via <code><a href="../../ggplot2/html/aes.html">aes()</a></code>).
In this way they can be mapped to data columns and apply to a set of geometries.
</p>
</li>
<li><p> As plain arguments into the geom_*_interactive function.
In this way they can be set to a scalar value.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="girafe.html">girafe()</a></code>
</p>


<h3>Examples</h3>

<pre>
# add interactive polygons to a ggplot -------
library(ggplot2)
library(ggiraph)

# create data
ids &lt;- factor(c("1.1", "2.1", "1.2", "2.2", "1.3", "2.3"))

values &lt;- data.frame(
	id = ids,
	value = c(3, 3.1, 3.1, 3.2, 3.15, 3.5) )
positions &lt;- data.frame(
	id = rep(ids, each = 4),
	x = c(2, 1, 1.1, 2.2, 1, 0, 0.3, 1.1, 2.2, 1.1, 1.2, 2.5, 1.1, 0.3,
		0.5, 1.2, 2.5, 1.2, 1.3, 2.7, 1.2, 0.5, 0.6, 1.3),
	y = c(-0.5, 0, 1, 0.5, 0, 0.5, 1.5, 1, 0.5, 1, 2.1, 1.7, 1, 1.5,
		2.2, 2.1, 1.7, 2.1, 3.2, 2.8, 2.1, 2.2, 3.3, 3.2) )

datapoly &lt;- merge(values, positions, by=c("id"))

datapoly$oc = "alert(this.getAttribute(\"data-id\"))"

# create a ggplot -----
gg_poly_1 &lt;- ggplot(datapoly, aes( x = x, y = y ) ) +
	geom_polygon_interactive(aes(fill = value, group = id,
		tooltip = value, data_id = value, onclick = oc))

# display ------
x &lt;- girafe(ggobj = gg_poly_1)
if( interactive() ) print(x)

if (packageVersion("grid") &gt;= "3.6") {
  # As of R version 3.6 geom_polygon() supports polygons with holes
  # Use the subgroup aesthetic to differentiate holes from the main polygon

  holes &lt;- do.call(rbind, lapply(split(datapoly, datapoly$id), function(df) {
    df$x &lt;- df$x + 0.5 * (mean(df$x) - df$x)
    df$y &lt;- df$y + 0.5 * (mean(df$y) - df$y)
    df
  }))
  datapoly$subid &lt;- 1L
  holes$subid &lt;- 2L
  datapoly &lt;- rbind(datapoly, holes)
  p &lt;- ggplot(datapoly, aes(x = x, y = y)) +
    geom_polygon_interactive(aes(fill = value, group = id, subgroup = subid,
                                 tooltip = value, data_id = value, onclick = oc))
  x &lt;- girafe(ggobj = p)
  if( interactive() ) print(x)
}

</pre>

<hr /><div style="text-align: center;">[Package <em>ggiraph</em> version 0.7.10 <a href="00Index.html">Index</a>]</div>
</body></html>
