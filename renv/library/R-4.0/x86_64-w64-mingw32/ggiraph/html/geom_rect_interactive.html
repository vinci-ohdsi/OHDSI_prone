<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Create interactive rectangles</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for geom_rect_interactive {ggiraph}"><tr><td>geom_rect_interactive {ggiraph}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Create interactive rectangles</h2>

<h3>Description</h3>

<p>These geometries are based on <code><a href="../../ggplot2/html/geom_tile.html">geom_rect()</a></code> and <code><a href="../../ggplot2/html/geom_tile.html">geom_tile()</a></code>.
See the documentation for those functions for more details.
</p>


<h3>Usage</h3>

<pre>
geom_rect_interactive(...)

geom_tile_interactive(...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>...</code></td>
<td>
<p>arguments passed to base function,
plus any of the <code><a href="ipar.html">interactive_parameters()</a></code>.</p>
</td></tr>
</table>


<h3>Details for geom_*_interactive functions</h3>

<p>The interactive parameters can be supplied with two ways:
</p>

<ul>
<li><p> As aesthetics with the mapping argument (via <code><a href="../../ggplot2/html/aes.html">aes()</a></code>).
In this way they can be mapped to data columns and apply to a set of geometries.
</p>
</li>
<li><p> As plain arguments into the geom_*_interactive function.
In this way they can be set to a scalar value.
</p>
</li></ul>



<h3>Note</h3>

<p>Converting a raster to svg elements could inflate dramatically the size of the
svg and make it unreadable in a browser.
Function <code>geom_tile_interactive</code> should be used with caution, total number of
rectangles should be small.
</p>


<h3>See Also</h3>

<p><code><a href="girafe.html">girafe()</a></code>
</p>


<h3>Examples</h3>

<pre>
# add interactive polygons to a ggplot -------
library(ggplot2)
library(ggiraph)

dataset = data.frame( x1 = c(1, 3, 1, 5, 4),
	x2 = c(2, 4, 3, 6, 6),
	y1 = c( 1, 1, 4, 1, 3),
	y2 = c( 2, 2, 5, 3, 5),
	t = c( 'a', 'a', 'a', 'b', 'b'),
	r = c( 1, 2, 3, 4, 5),
	tooltip = c("ID 1", "ID 2", "ID 3", "ID 4", "ID 5"),
	uid = c("ID 1", "ID 2", "ID 3", "ID 4", "ID 5"),
	oc = rep("alert(this.getAttribute(\"data-id\"))", 5)
)

gg_rect = ggplot() +
	scale_x_continuous(name="x") +
	scale_y_continuous(name="y") +
	geom_rect_interactive(data=dataset,
		mapping = aes(xmin = x1, xmax = x2,
			ymin = y1, ymax = y2, fill = t,
			tooltip = tooltip, onclick = oc, data_id = uid ),
		color="black", alpha=0.5) +
	geom_text(data=dataset,
			aes(x = x1 + ( x2 - x1 ) / 2, y = y1 + ( y2 - y1 ) / 2,
					label = r ),
		size = 4 )

x &lt;- girafe(ggobj = gg_rect)
if( interactive() ) print(x)
# add interactive tiles to a ggplot -------
library(ggplot2)
library(ggiraph)

df &lt;- data.frame(
  id = rep(c("a", "b", "c", "d", "e"), 2),
  x = rep(c(2, 5, 7, 9, 12), 2),
  y = rep(c(1, 2), each = 5),
  z = factor(rep(1:5, each = 2)),
  w = rep(diff(c(0, 4, 6, 8, 10, 14)), 2)
)

p &lt;- ggplot(df, aes(x, y, tooltip = id)) + geom_tile_interactive(aes(fill = z))
x &lt;- girafe(ggobj = p)
if( interactive() ) print(x)


# correlation dataset ----
cor_mat &lt;- cor(mtcars)
diag( cor_mat ) &lt;- NA
var1 &lt;- rep( row.names(cor_mat), ncol(cor_mat) )
var2 &lt;- rep( colnames(cor_mat), each = nrow(cor_mat) )
cor &lt;- as.numeric(cor_mat)
cor_mat &lt;- data.frame( var1 = var1, var2 = var2,
  cor = cor, stringsAsFactors = FALSE )
cor_mat[["tooltip"]] &lt;-
  sprintf("&lt;i&gt;`%s`&lt;/i&gt; vs &lt;i&gt;`%s`&lt;/i&gt;:&lt;/br&gt;&lt;code&gt;%.03f&lt;/code&gt;",
  var1, var2, cor)

p &lt;- ggplot(data = cor_mat, aes(x = var1, y = var2) ) +
  geom_tile_interactive(aes(fill = cor, tooltip = tooltip), colour = "white") +
  scale_fill_gradient2_interactive(low = "#BC120A", mid = "white", high = "#BC120A",
                                   limits = c(-1, 1), data_id = "cormat", tooltip = "cormat") +
  coord_equal()
x &lt;- girafe(ggobj = p)
if( interactive() ) print(x)
</pre>

<hr /><div style="text-align: center;">[Package <em>ggiraph</em> version 0.7.10 <a href="00Index.html">Index</a>]</div>
</body></html>
